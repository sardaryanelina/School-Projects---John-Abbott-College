{% extends "admin/master.html.twig" %}

{% block title %}Update Customer Info{% endblock %}

{% block content %}

{# {% if errorList %}
        <ul class="errorMessage">
            {% for error in errorList %}
            <li>{{error}}</li>
            {% endfor %}
        </ul>
        {% endif %} #}

<div class="container" style="background-color: white; padding: 2rem; margin-top: 3rem !important;">
    <div><a href="/admin/customers_more"><i class="material-icons teal-text">arrow_back</i></a></div>
    <h3 style="margin-bottom: 4rem;">{% if op == 'edit' %}Edit {% else %}Add {% endif %}Customer</h3>


    <form method="post">
        {# SELECT not working with JS and jQuery FIXME #}
        {# {% if op == 'edit' %}
        <label for="uid">Customer's User ID: </label>
        <input type="text" id="uid" name="userID" value="{{c.user_id}}"><br>
        {% else %}
        <div class="input-field col s12">
            <select>
                <option value="" disabled selected>Choose a user ID</option>
                {% for u in users %}
                    <option value="{{u.id}}">{{u.id}}</optio>
                {% endfor %}
            </select>
            <label>Materialize Select</label>
        </div>
        {% endif %} #}

        <div class="row">
            {% if op == 'edit' %}
            <div class="col s2">
                <label for="disabled">ID</label>
                <input disabled value="{{c.id}}" id="disabled" type="text" class="validate" name="id">
            </div>
            <div class="col s2">
                <label for="disabled">Customer's User ID: </label>
                <input disabled value="{{c.user_id}}" id="disabled" type="text" class="validate" name="userID">
                <span class="errorMessage red-text">{{errorList.userID}}</span><br>
            </div>
            {% else %} 
                <div class="col s4">
                    <label for="uid">Customer's User ID: </label>
                    <input type="number" id="uid" name="userID" value="{{c.user_id}}"><br>
                    <span class="errorMessage red-text">{{errorList.userID}}</span><br>
                </div>
            {% endif %}
            <div class="col s8">
                <label for="addr">Street Address: </label>
                <input type="text" id="addr" name="address" value="{{c.street_address}}">
                <span class="errorMessage red-text">{{errorList.address}}</span><br>
            </div>
        </div>

        <div class="row">
            <div class="col s4">
                <label for="city">City: </label>
                <input type="text" id="city" name="city" value="{{c.city}}">
                <span class="errorMessage red-text">{{errorList.city}}</span><br>
            </div>
            <div class="col s4">
                <label for="prov">Province: </label>
                <input type="text" id="prov" name="prov" value="{{c.province}}">
                <span class="errorMessage red-text">{{errorList.province}}</span><br>
            </div>
            <div class="col s4">
                <label for="country">Country: </label>
                <input type="text" id="country" name="country" value="{{c.country}}"><br>
                <span class="errorMessage red-text">{{errorList.country}}</span><br>
            </div>
        </div>

        <div class="row">
            <div class="col s6">
                <label for="pc">Postal Code: </label>
                <input placeholder="H1H 1H1" type="text" id="pc" name="postalcode" value="{{c.postalcode}}">
                <span class="errorMessage red-text">{{errorList.postalcode}}</span><br>
            </div>
            <div class="col s6">
                <label for="phone">Phone: </label>
                <input placeholder="" type="text" id="phone" name="phone" value="{{c.phone}}"><br>
                <span class="errorMessage red-text">{{errorList.phone}}</span><br>
            </div>
        </div>

        <div class="row">
            <div class="col s4">
                <label for="gender">Gender: </label>
                <input placeholder="1 for Female, 0 for Male" type="number" id="gender" name="gender"
                    value="{{c.gender}}">
                <span class="errorMessage red-text">{{errorList.gender}}</span><br>
            </div>
            <div class="col s4">
                <label for="age">Age: </label>
                <input type="number" id="age" name="age" value="{{c.age}}">
                <span class="errorMessage red-text">{{errorList.age}}</span><br>
            </div>
            <div class="col s4">
                <label for="ins">Insurance: </label>
                <input type="text" id="ins" name="insurance" value="{{c.insurance}}">
                <span class="errorMessage red-text">{{errorList.insurance}}</span><br>
            </div>
        </div>

        <div class="row">
            <div class="col s6">
                <label for="height">Height: </label>
                <input placeholder="00.00 (cm)" type="number" id="height" name="height" value="{{c.height}}">
                <span class="errorMessage red-text">{{errorList.height}}</span><br>
            </div>
            <div class="col s6">
                <label for="weight">Weight: </label>
                <input placeholder="00.00 (kg)" type="number" id="weight" name="weight" value="{{c.weight}}"><br>
                <span class="errorMessage red-text">{{errorList.weight}}</span><br>
            </div>
        </div>

        <div class="row">
            <div class="col s6">
                <label for="number">Balance: </label>
                <input placeholder="00.00 ($)" type="number" id="bal" name="balance" value="{{c.balance}}"><br>
                <span class="errorMessage red-text">{{errorList.balance}}</span><br>
            </div>
            <div class="col s6">
                <label for="com">Comment: </label>
                <textarea name="comment" id="com" cols="20" rows="10">{{c.comment}}</textarea>
                <span class="errorMessage red-text">{{errorList.comment}}</span><br>
            </div>
        </div>


        <input class="waves-effect waves-light btn" type="submit"
            value="{% if op == 'edit' %}Edit Customer{% else %}Add Customer{% endif %}">
            
    </form>
</div>

{% endblock %}